#loading
  .loader

#pictures-nav
  #category-search
    = link_to 'カテゴリーから探す', categories_path

  = search_form_for @q, url: pictures_path, id: "search-home" do |f|
    = f.search_field :tags_name_cont, id: "keyword-input", placeholder: "キーワードで検索"
    #pictures-index-actions
      .menu
        = link_to slideshow_pictures_path(params: {q: @params}), id: "slideshow-link" do
          = icon('fa', 'images')
          %span<>スライドショー
      .menu#select-sort
        = f.select( :sorts, { '新着順': 'id DESC', '古い順': 'id ASC', 'お気に入りの多い順': 'favorites_count DESC', 'お気に入りの少ない順': 'favorites_count ASC' }, { selected: params[:q][:sorts] }, { onchange: 'this.form.submit()' } )
    = button_tag type: "submit" do
      = icon('fas', 'search')

  #action-buttons
    = link_to new_picture_path, class: "btn new-picture-link" do
      投稿する

.pictures-index.pictures-index--home
  - if @pictures.present?
    - @pictures.each do |picture|
      .picture
        = link_to picture_path(picture) do
          = image_tag picture.image_url(:middle)
        .picture-info
          .picture-comments
            = icon('far', 'comment')
            = picture.comments_count
          .picture-favorite{id: "favorite-#{picture.id}"}
            = render partial: "pictures/favorite", locals: { picture: picture }
  - else
    投稿がありません
= paginate @pictures