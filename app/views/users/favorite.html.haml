#loading
  .loader

#pictures-nav
  #nav-container
    - breadcrumb :favorite
    = render "layouts/breadcrumbs"
    #action-buttons
      = link_to new_picture_path, class: "btn new-picture-link" do
        投稿する

- if @pictures.present?
  .pictures-actions
    .menu
      = link_to favorite_slideshow_users_path(params: {q: @params}), id: "slideshow-link" do
        = icon('fa', 'images')
        %span<>スライドショー
    = search_form_for @q, url: favorite_users_path, class: "menu", id: "#select-sort" do |f|
      = f.select( :sorts, { '新着順': 'id DESC', '古い順': 'id ASC', 'お気に入りの多い順': 'favorites_count DESC', 'お気に入りの少ない順': 'favorites_count ASC' }, { selected: params[:q][:sorts] }, { onchange: 'this.form.submit()' } )

.pictures-index
  - if @pictures.present?
    - @pictures.each do |picture|
      .picture
        = link_to "/users/favorite/#{picture.id}" do
          = image_tag picture.image_url(:middle)
        .picture-info
          .picture-comments
            = icon('far', 'comment')
            = picture.comments_count
          .picture-favorite{id: "favorite-#{picture.id}"}
            = render partial: "pictures/favorite", locals: { picture: picture }
  - else
    お気に入りがありません
= paginate @pictures